<div class="p-4" [ngClass]="device == 'lg' ? 'block' : 'hidden'">
  <div
    class="flex flex-row flex-wrap lg:flex-nowrap gap-4 md:items-center lg:items-start"
  >
    <div class="lg:basis-[42%] flex basis-full justify-center lg:justify-start">
      <app-carousel [max-width]="'412px'"></app-carousel>
    </div>
    <div class="basis-full flex flex-col">
      <div class="mx-auto">
        <div class="flex flex-row justify-between">
          <div class="basis-4/6">
            <div class="mt-3">
              <!-- <button class="btn-add-to-cart">
                <p class="click">اضافه کردن به سبد خرید</p>
              </button> -->
              <!-- <button class="btn-2">
                <p class="click mr-3">
                  <img
                    class="icon-b"
                    src="assets/img/icon-shayred.svg"
                    alt="icon-share"
                  />
                </p>
              </button> -->
            </div>
            <strong class="text-black font-fat -mt-1 text-3xl">{{
              product.title
            }}</strong>
            <div class="relative -mt-4 mb-3">
              <span class="star-rating relative block -z-30 w-40">
                <app-rating [config]="star"></app-rating>
              </span>
              <p class="bot-rating relative text-sm font-bold">
                <span class="Common">{{ product.rate }}</span>
                <span class="view mx-1 px-1">بازدید ها 735</span>
                <span class="Common">مشترک ها 235</span>
              </p>
            </div>
            <h6 class="mb-4 text-base font-semibold">انتخاب پلن</h6>
            <div class="flex justify-start flex-wrap gap-2 mb-10">
              <div
                *ngFor="let p of plans; let i = index"
                class="max-w-[4.5rem] w-full aspect-square"
              >
                <div class="h-full w-full">
                  <button
                    (click)="toggle(p, i)"
                    class="rounded-[18px] p-2 h-full w-full transition-all"
                    [ngClass]="p.active ? ' bg-[#3246d3]' : ' bg-[#f3f3f3]'"
                  >
                    <p
                      [ngClass]="
                        p.active
                          ? 'text-white font-bold text-xl'
                          : 'text-black font-medium text-lg'
                      "
                      class="transition-all"
                    >
                      {{
                        p.title.slice().split("تریدر")[1]
                          ? p.title.split("تریدر")[1]
                          : p.title
                      }}
                    </p>
                  </button>
                </div>
              </div>
            </div>
            <h6
              [ngClass]="animationState ? 'price-animation' : ''"
              class="mb-4 text-base font-semibold"
            >
              {{ selectedPlan.title }}
            </h6>
            <p
              [ngClass]="animationState ? 'price-animation' : ''"
              class="text-justify -mt-3 pl-4"
            >
              پلن اعتماد این پلن، بدون انقضاء زمانی است و زمان انقضا هنگامی فرا
              می‌رسد که 100 دلار سود گرفته باشد. هدف از تعریف این پلن، آشنایی
              تریدر با نحوه کار ربات است.
            </p>
          </div>
          <div
            class="price-detail-box rounded-2xl mr-8 w-full h-96 px-5 basis-full"
          >
            <div class="mt-5">
              <div class="pb-3">
                <h6 class="mb-4 text-base font-black">فروشنده</h6>
                <properties [verified]="true" [guarantee]="true">
                  <p class="producer-name" producer>
                    {{ product.publishedBy }}
                  </p>
                  <p rate class="product-rate">{{ product.rate }}</p>
                  <p category class="product-category">
                    {{ product.typeTitle }}
                  </p>
                  <p platform class="product-platform">
                    {{ product.platformTypeTitle }}
                  </p>
                  <p guarantee class="product-guarantee">
                    پشتیبانی دائمی تا زمان اشتراک
                  </p>
                </properties>
                <div class="pt-3 pb-3">
                  <a
                    class="demo-download text-sm font-extrabold"
                    [href]="contentUrl + demoFile"
                    download=""
                    ><span
                      ><i class="ie-download"></i>دانلود رایگان دموی محصول
                    </span></a
                  >
                </div>
                <div class="flex mr-auto items-center justify-end mt-2 pt-3">
                  <div class="flex items-center">
                    <p
                      [ngClass]="animationState ? 'price-animation' : ''"
                      class="text-black font-black text-2xl"
                    >
                      {{ selectedPlan.price | currency }}
                    </p>
                  </div>
                </div>
                <br />
                <div class="-mr-2">
                  <button
                    (click)="toCheckout(selectedPlan)"
                    class="btn-price-box w-full"
                  >
                    <p class="text-base text-white font-medium">پرداخت</p>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="md:hidden xl:block">
          <h6 class="mb-4 text-base font-semibold">توضیحات</h6>
          <p class="text-justify ml-8">
            {{ product.description }}
          </p>
        </div>
      </div>
    </div>
  </div>
  <div class="block xl:hidden">
    <h6 class="mb-4 text-base font-semibold">توضیحات</h6>
    <p class="text-justify ml-8">
      {{ product.description }}
    </p>
  </div>
  <!-- ===========================[بنر]============== -->

  <div class="flex justify-center mt-12 px-3">
    <div class="grid grid-cols-4 gap-3 baner">
      <div class="flex items-end mr-8">
        <img
          class="absolute object-contain w-32"
          src="assets/img/logo-shop-hero.webp"
          alt="logo"
          width="128"
          height="121"
        />
      </div>
      <div class="flex items-center -mr-6 -ml-6 col-span-2 z-10">
        <p class="text-black font-bold text-lg">
          برای انتخاب مناسب ترین بروکر برای استفاده از ربات هاب معامله گر و
          سرمایه گذاری میتوانید در صفحه بروکر های ایرانی اکسپرت مفایسه،انتخاب و
          ثبت نام کنید
        </p>
      </div>
      <div class="flex items-center justify-center z-10">
        <a
          [routerLink]="'../brokers'"
          class="link text-white px-5 py-2 mr-14 text-lg font-semibold"
        >
          مقایسه بروکرها
        </a>
      </div>
    </div>
  </div>
</div>
<!-- ===========================[رسپانسیو]============== -->
<div class="" [ngClass]="device == 'sm' ? 'block' : 'hidden'">
  <div class="relative">
    <!-- <div class="mt-3 row-click">
      <button class="btn-m">
        <p class="click-m">اضافه کردن به سبد خرید</p>
      </button>
      <button class="btn-2">
        <p class="click-m mr-3"></p>
      </button>
    </div> -->
    <img
      class="w-full h-full"
      [src]="contentUrl + product.cardImagePath"
      alt="atm-bot"
      width="112"
      height="50"
    />
  </div>

  <!-- ============[پلن]======= -->
  <div #scroll class="plan-mobile bg-white">
    <div class="pr-8 pb-8 pt-6">
      <h6 class="text-lg text-black font-bold">{{ product.title }}</h6>
      <div class="scale-75 -mr-14 mb-3">
        <p class="inline-flex text-xl">
          <span class="">مشترک ها 235</span>
          <span class="view-mobile px-1 py-0 mx-2 my-0">بازدید ها 735</span>
          <span class="ie-star">{{ product.rate }}</span>
        </p>
      </div>
    </div>
    <h6 class="mb-4 text-base font-semibold mr-7">انتخاب پلن</h6>
    <div class="overflow-scroll w-[98vw]">
      <div class="mb-7 min-w-fit">
        <div class="flex flex-row justify-start">
          <div
            *ngFor="let p of plans; let i = index"
            class="min-w-[4.25rem] aspect-square mx-3 rounded-[11px]"
            [ngClass]="p.active ? ' bg-[#3246d3]' : ' bg-[#f3f3f3]'"
          >
            <button
              class="p-2 h-full w-full transition-all"
              (click)="toggle(p, i)"
            >
              <p
                [ngClass]="
                  p.active
                    ? 'text-white text-lg font-black'
                    : 'text-black font-medium text-base'
                "
                class="transition-all"
              >
                {{
                  p.title.slice().split("تریدر")[1]
                    ? p.title.split("تریدر")[1]
                    : p.title
                }}
              </p>
            </button>
          </div>
        </div>
      </div>
    </div>

    <h6
      [ngClass]="animationState ? 'price-animation' : ''"
      class="mb-4 text-base font-semibold mr-7"
    >
      {{ selectedPlan.title }}
    </h6>
    <p [ngClass]="animationState ? 'price-animation' : ''" class="mr-7 ml-7">
      پلن اعتماد این پلن، بدون انقضاء زمانی است و زمان انقضا هنگامی فرا می‌رسد
      که 100 دلار سود گرفته باشد. هدف از تعریف این پلن، آشنایی تریدر با نحوه کار
      ربات است.
    </p>
    <h6 class="mt-16 mb-4 mr-4 ml-6 text-base font-semibold">توضیخات</h6>
    <p class="mr-7 ml-8 text-justify">
      {{ product.description }}
    </p>
  </div>
  <!-- ================[فروشنده]============ -->
  <h6 class="mb-4 text-base font-black mr-7">فروشنده</h6>
  <div class="mr-14 ml-14">
    <properties [verified]="true" [guarantee]="true">
      <p producer>
        {{ product.publishedBy }}
      </p>
      <p rate class="product-rate">{{ product.rate }}</p>
      <p category class="product-category">
        {{ product.typeTitle }}
      </p>
      <p platform class="product-platform">
        {{ product.platformTypeTitle }}
      </p>
      <p guarantee class="product-guarantee">پشتیبانی دائمی تا زمان اشتراک</p>
    </properties>
    <div class="pt-3 pb-3">
      <p class="demo-download font-black">
        <a [href]="contentUrl + demoFile" download=""
          ><i class="ie-download"></i>دانلود رایگان دموی محصول
        </a>
      </p>
    </div>
  </div>
  <div class="divider"></div>
  <!-- ===========================[بنر]============== -->
  <div class="banner-mobile mx-10 my-0 rounded-2xl">
    <div class="relative">
      <a [routerLink]="'../brokers'">
        <div class="flex flex-row bg-baner-mobile">
          <div class="basis-1/3">
            <img
              class="logo-mobile absolute w-24 z-40"
              src="assets/img/logo-shop-hero.webp"
              alt="logo"
              width="128"
              height="121"
            />
          </div>
          <div class="z-50 basis-2/3">
            <p class="text-xs text-black p-2">
              برای انتخاب مناسب ترین بروکر برای استفاده از ربات هاب معامله گر و
              سرمایه گذاری میتوانید در صفحه بروکر های ایرانی اکسپرت
              مفایسه،انتخاب و ثبت نام کنید
            </p>
          </div>
        </div>
      </a>
    </div>
  </div>
  <!-- ===========================[باکس پرایس]============== -->

  <div class="box-price-row-mobile">
    <div class="flex flex-row pt-5 pb-9">
      <div class="flex items-center basis-1/3">
        <button
          (click)="toCheckout(selectedPlan)"
          class="btn-mobile px-3 py-9 text-white font-bold mr-2"
        >
          پرداخت
        </button>
      </div>
      <div class="inline-flex justify-center items-center mt-2 basis-2/3">
        <p
          [ngClass]="animationState ? 'price-animation' : ''"
          class="font-black text-black text-2xl"
        >
          {{ selectedPlan.price | currency }}
        </p>
      </div>
    </div>
  </div>
</div>
